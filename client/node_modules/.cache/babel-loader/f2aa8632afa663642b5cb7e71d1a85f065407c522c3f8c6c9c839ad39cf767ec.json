{"ast":null,"code":"import axios from \"axios\";\nconst instance = axios.create({\n  baseURL: \"https://dummyjson.com\",\n  headers: {\n    \"Content-Type\": \"application/json\"\n  }\n});\n\n// *******Products*******\n\nexport async function getAllProducts() {\n  try {\n    const response = await instance.get(\"/products\");\n    console.log(\"getting all products\");\n    return response;\n  } catch (error) {\n    console.error(error);\n  }\n}\nexport async function getProductById(id) {\n  try {\n    const response = await instance.get(`/products/${id}`);\n    return response.data;\n  } catch (error) {\n    console.error(error);\n  }\n}\nexport async function getProductBySearch(query) {\n  try {\n    const response = await instance.get(`/products/search?q=${query}`);\n    console.log(\"fetching by query: \", query);\n    return response.data;\n  } catch (error) {\n    console.error(error);\n  }\n}\nexport async function getProductCategories() {\n  try {\n    const response = await instance.get(`/products/categories`);\n    return response.data;\n  } catch (error) {\n    console.error(error);\n  }\n}\nexport async function getProductsByCategory(category) {\n  console.log(\"category selected, \", category);\n  try {\n    console.log(\"trying fetch with \", category);\n    const response = await instance.get(`/products/category/${category}`);\n    return response.data;\n  } catch (error) {\n    console.error(error);\n  }\n}\n\n// *******Account*******\n\nexport async function getUsers() {\n  console.log(\"in getUsers\");\n  try {\n    const response = await instance.get(\"/users\");\n    console.log(response.data.users);\n    return response.data.users;\n  } catch (error) {\n    console.error(error);\n  }\n}\nexport async function getLoginToken(iUsername, iPassword) {\n  console.log(\"in login\", iUsername, iPassword);\n  try {\n    const response = await instance.post(\"/auth/login\", {\n      username: `${iUsername}`,\n      password: `${iPassword}`\n    });\n    localStorage.setItem(\"token\", response.data.token);\n    return response.data.token;\n  } catch (error) {\n    console.error(error);\n  }\n}\n\n// export async function logout() {\n//   const token = localStorage.getItem(\"token\");\n//   console.log(token);\n//   // localStorage.removeItem(\"token\");\n// }\n\nexport async function createAccount(_ref) {\n  let {\n    email,\n    username,\n    password,\n    firstname,\n    lastname\n  } = _ref;\n  console.log(\"in createAccount\");\n  try {\n    const response = await instance.post(\"/users\", {\n      body: JSON.stringify({\n        email: {\n          email\n        },\n        username: {\n          username\n        },\n        password: {\n          password\n        },\n        name: {\n          firstname: {\n            firstname\n          },\n          lastname: {\n            lastname\n          }\n        }\n      })\n    });\n    console.log(response.data.id);\n    return response;\n  } catch (error) {\n    console.error(error);\n  }\n}\n\n// *******Cart*******\n\nexport async function getAllCarts() {\n  try {\n    const response = await instance.get(`/carts`);\n    console.log(response.data.carts);\n    return response.data.carts;\n  } catch (error) {\n    console.error(error);\n  }\n}\nexport async function getCart() {\n  let userId = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 5;\n  try {\n    console.log(\"getting cart for id: \", userId);\n    const response = await instance.get(`/carts/${userId}`);\n    return response.data;\n  } catch (error) {\n    console.error(error);\n  }\n}\nexport async function addToCart(userId, productId, quantity) {\n  console.log(userId, productId, quantity);\n  try {\n    const response = await instance.put(`/carts/${userId}`, {\n      merge: true,\n      products: [{\n        id: {\n          productId\n        },\n        quantity: {\n          quantity\n        }\n      }]\n    });\n    console.log(response);\n    return response;\n  } catch (error) {\n    console.error(error);\n  }\n}","map":{"version":3,"names":["axios","instance","create","baseURL","headers","getAllProducts","response","get","console","log","error","getProductById","id","data","getProductBySearch","query","getProductCategories","getProductsByCategory","category","getUsers","users","getLoginToken","iUsername","iPassword","post","username","password","localStorage","setItem","token","createAccount","email","firstname","lastname","body","JSON","stringify","name","getAllCarts","carts","getCart","userId","addToCart","productId","quantity","put","merge","products"],"sources":["C:/Users/Drew/Desktop/WebDev/Portfolio/e-commerce/client/src/lib/axios.js"],"sourcesContent":["import axios from \"axios\";\r\n\r\nconst instance = axios.create({\r\n  baseURL: \"https://dummyjson.com\",\r\n  headers: { \"Content-Type\": \"application/json\" },\r\n});\r\n\r\n// *******Products*******\r\n\r\nexport async function getAllProducts() {\r\n  try {\r\n    const response = await instance.get(\"/products\");\r\n    console.log(\"getting all products\");\r\n    return response;\r\n  } catch (error) {\r\n    console.error(error);\r\n  }\r\n}\r\n\r\nexport async function getProductById(id) {\r\n  try {\r\n    const response = await instance.get(`/products/${id}`);\r\n    return response.data;\r\n  } catch (error) {\r\n    console.error(error);\r\n  }\r\n}\r\nexport async function getProductBySearch(query) {\r\n  try {\r\n    const response = await instance.get(`/products/search?q=${query}`);\r\n    console.log(\"fetching by query: \", query);\r\n    return response.data;\r\n  } catch (error) {\r\n    console.error(error);\r\n  }\r\n}\r\nexport async function getProductCategories() {\r\n  try {\r\n    const response = await instance.get(`/products/categories`);\r\n    return response.data;\r\n  } catch (error) {\r\n    console.error(error);\r\n  }\r\n}\r\nexport async function getProductsByCategory(category) {\r\n  console.log(\"category selected, \", category);\r\n  try {\r\n    console.log(\"trying fetch with \", category);\r\n    const response = await instance.get(`/products/category/${category}`);\r\n    return response.data;\r\n  } catch (error) {\r\n    console.error(error);\r\n  }\r\n}\r\n\r\n// *******Account*******\r\n\r\nexport async function getUsers() {\r\n  console.log(\"in getUsers\");\r\n  try {\r\n    const response = await instance.get(\"/users\");\r\n    console.log(response.data.users);\r\n    return response.data.users;\r\n  } catch (error) {\r\n    console.error(error);\r\n  }\r\n}\r\n\r\nexport async function getLoginToken(iUsername, iPassword) {\r\n  console.log(\"in login\", iUsername, iPassword);\r\n  try {\r\n    const response = await instance.post(\"/auth/login\", {\r\n      username: `${iUsername}`,\r\n      password: `${iPassword}`,\r\n    });\r\n    localStorage.setItem(\"token\", response.data.token);\r\n    return response.data.token;\r\n  } catch (error) {\r\n    console.error(error);\r\n  }\r\n}\r\n\r\n// export async function logout() {\r\n//   const token = localStorage.getItem(\"token\");\r\n//   console.log(token);\r\n//   // localStorage.removeItem(\"token\");\r\n// }\r\n\r\nexport async function createAccount({\r\n  email,\r\n  username,\r\n  password,\r\n  firstname,\r\n  lastname,\r\n}) {\r\n  console.log(\"in createAccount\");\r\n  try {\r\n    const response = await instance.post(\"/users\", {\r\n      body: JSON.stringify({\r\n        email: { email },\r\n        username: { username },\r\n        password: { password },\r\n        name: {\r\n          firstname: { firstname },\r\n          lastname: { lastname },\r\n        },\r\n      }),\r\n    });\r\n    console.log(response.data.id);\r\n    return response;\r\n  } catch (error) {\r\n    console.error(error);\r\n  }\r\n}\r\n\r\n// *******Cart*******\r\n\r\nexport async function getAllCarts() {\r\n  try {\r\n    const response = await instance.get(`/carts`);\r\n    console.log(response.data.carts);\r\n    return response.data.carts;\r\n  } catch (error) {\r\n    console.error(error);\r\n  }\r\n}\r\n\r\nexport async function getCart(userId = 5) {\r\n  try {\r\n    console.log(\"getting cart for id: \", userId);\r\n    const response = await instance.get(`/carts/${userId}`);\r\n    return response.data;\r\n  } catch (error) {\r\n    console.error(error);\r\n  }\r\n}\r\n\r\nexport async function addToCart(userId, productId, quantity) {\r\n  console.log(userId, productId, quantity);\r\n  try {\r\n    const response = await instance.put(`/carts/${userId}`, {\r\n      merge: true,\r\n      products: [\r\n        {\r\n          id: { productId },\r\n          quantity: { quantity },\r\n        },\r\n      ],\r\n    });\r\n    console.log(response);\r\n    return response;\r\n  } catch (error) {\r\n    console.error(error);\r\n  }\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}