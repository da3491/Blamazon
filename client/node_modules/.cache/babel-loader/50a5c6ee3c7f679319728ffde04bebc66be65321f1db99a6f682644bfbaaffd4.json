{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Drew\\\\Desktop\\\\WebDev\\\\Portfolio\\\\e-commerce\\\\client\\\\src\\\\lib\\\\CartProvider.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState, createContext } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const CartContext = /*#__PURE__*/createContext();\nconst CartContextProvider = _ref => {\n  _s();\n  let {\n    children\n  } = _ref;\n  const cartLocalStorage = JSON.parse(localStorage.getItem(\"cart\"));\n  const [cartItems, setCartItems] = useState(cartLocalStorage);\n  useEffect(() => {\n    localStorage.setItem(\"cart\", JSON.stringify(cartItems));\n  }, [cartItems]);\n  const addItemToCart = item => {\n    console.log(\"item to add, \", item);\n    console.log(\"cartItems, \", cartItems);\n    const index = cartItems.findIndex(cartItem => cartItem.id === item.id);\n    index !== -1 ? setCartItems(cartItems.map((cartItem, i) => i === index ? {\n      ...cartItem,\n      quantity: cartItem.quantity + 1\n    } : cartItem)) : setCartItems([...cartItems, {\n      ...item,\n      quantity: 1\n    }]);\n  };\n  const removeItemFromCart = itemToRemove => {\n    const index = cartItems.findIndex(item => item.id === itemToRemove);\n    if (index !== -1) {\n      const updatedCart = [...cartItems];\n      updatedCart[index].quantity > 1 ? updatedCart[index].quantity -= 1 : updatedCart.splice(index, 1);\n      setCartItems(updatedCart);\n    }\n  };\n  const clearCart = () => {\n    setCartItems([]);\n  };\n\n  // const cartTotal = cartItems.reduce((total, item) => total + item.price, 0);\n\n  return /*#__PURE__*/_jsxDEV(CartContext.Provider, {\n    value: {\n      cartItems,\n      addItemToCart,\n      removeItemFromCart,\n      clearCart\n      // cartTotal,\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 5\n  }, this);\n};\n_s(CartContextProvider, \"O/YYKjQew4Du33bVrzXdxYhjQ58=\");\n_c = CartContextProvider;\nexport default CartContextProvider;\nvar _c;\n$RefreshReg$(_c, \"CartContextProvider\");","map":{"version":3,"names":["React","useEffect","useState","createContext","CartContext","CartContextProvider","children","cartLocalStorage","JSON","parse","localStorage","getItem","cartItems","setCartItems","setItem","stringify","addItemToCart","item","console","log","index","findIndex","cartItem","id","map","i","quantity","removeItemFromCart","itemToRemove","updatedCart","splice","clearCart"],"sources":["C:/Users/Drew/Desktop/WebDev/Portfolio/e-commerce/client/src/lib/CartProvider.js"],"sourcesContent":["import React, { useEffect, useState, createContext } from \"react\";\r\n\r\nexport const CartContext = createContext();\r\n\r\nconst CartContextProvider = ({ children }) => {\r\n  const cartLocalStorage = JSON.parse(localStorage.getItem(\"cart\"));\r\n  const [cartItems, setCartItems] = useState(cartLocalStorage);\r\n\r\n  useEffect(() => {\r\n    localStorage.setItem(\"cart\", JSON.stringify(cartItems));\r\n  }, [cartItems]);\r\n\r\n  const addItemToCart = (item) => {\r\n    console.log(\"item to add, \", item);\r\n    console.log(\"cartItems, \", cartItems);\r\n    const index = cartItems.findIndex((cartItem) => cartItem.id === item.id);\r\n\r\n    index !== -1\r\n      ? setCartItems(\r\n          cartItems.map((cartItem, i) =>\r\n            i === index\r\n              ? { ...cartItem, quantity: cartItem.quantity + 1 }\r\n              : cartItem\r\n          )\r\n        )\r\n      : setCartItems([...cartItems, { ...item, quantity: 1 }]);\r\n  };\r\n\r\n  const removeItemFromCart = (itemToRemove) => {\r\n    const index = cartItems.findIndex((item) => item.id === itemToRemove);\r\n    if (index !== -1) {\r\n      const updatedCart = [...cartItems];\r\n      updatedCart[index].quantity > 1\r\n        ? (updatedCart[index].quantity -= 1)\r\n        : updatedCart.splice(index, 1);\r\n      setCartItems(updatedCart);\r\n    }\r\n  };\r\n\r\n  const clearCart = () => {\r\n    setCartItems([]);\r\n  };\r\n\r\n  // const cartTotal = cartItems.reduce((total, item) => total + item.price, 0);\r\n\r\n  return (\r\n    <CartContext.Provider\r\n      value={{\r\n        cartItems,\r\n        addItemToCart,\r\n        removeItemFromCart,\r\n        clearCart,\r\n        // cartTotal,\r\n      }}\r\n    >\r\n      {children}\r\n    </CartContext.Provider>\r\n  );\r\n};\r\n\r\nexport default CartContextProvider;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,EAAEC,aAAa,QAAQ,OAAO;AAAC;AAElE,OAAO,MAAMC,WAAW,gBAAGD,aAAa,EAAE;AAE1C,MAAME,mBAAmB,GAAG,QAAkB;EAAA;EAAA,IAAjB;IAAEC;EAAS,CAAC;EACvC,MAAMC,gBAAgB,GAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAAC;EACjE,MAAM,CAACC,SAAS,EAAEC,YAAY,CAAC,GAAGX,QAAQ,CAACK,gBAAgB,CAAC;EAE5DN,SAAS,CAAC,MAAM;IACdS,YAAY,CAACI,OAAO,CAAC,MAAM,EAAEN,IAAI,CAACO,SAAS,CAACH,SAAS,CAAC,CAAC;EACzD,CAAC,EAAE,CAACA,SAAS,CAAC,CAAC;EAEf,MAAMI,aAAa,GAAIC,IAAI,IAAK;IAC9BC,OAAO,CAACC,GAAG,CAAC,eAAe,EAAEF,IAAI,CAAC;IAClCC,OAAO,CAACC,GAAG,CAAC,aAAa,EAAEP,SAAS,CAAC;IACrC,MAAMQ,KAAK,GAAGR,SAAS,CAACS,SAAS,CAAEC,QAAQ,IAAKA,QAAQ,CAACC,EAAE,KAAKN,IAAI,CAACM,EAAE,CAAC;IAExEH,KAAK,KAAK,CAAC,CAAC,GACRP,YAAY,CACVD,SAAS,CAACY,GAAG,CAAC,CAACF,QAAQ,EAAEG,CAAC,KACxBA,CAAC,KAAKL,KAAK,GACP;MAAE,GAAGE,QAAQ;MAAEI,QAAQ,EAAEJ,QAAQ,CAACI,QAAQ,GAAG;IAAE,CAAC,GAChDJ,QAAQ,CACb,CACF,GACDT,YAAY,CAAC,CAAC,GAAGD,SAAS,EAAE;MAAE,GAAGK,IAAI;MAAES,QAAQ,EAAE;IAAE,CAAC,CAAC,CAAC;EAC5D,CAAC;EAED,MAAMC,kBAAkB,GAAIC,YAAY,IAAK;IAC3C,MAAMR,KAAK,GAAGR,SAAS,CAACS,SAAS,CAAEJ,IAAI,IAAKA,IAAI,CAACM,EAAE,KAAKK,YAAY,CAAC;IACrE,IAAIR,KAAK,KAAK,CAAC,CAAC,EAAE;MAChB,MAAMS,WAAW,GAAG,CAAC,GAAGjB,SAAS,CAAC;MAClCiB,WAAW,CAACT,KAAK,CAAC,CAACM,QAAQ,GAAG,CAAC,GAC1BG,WAAW,CAACT,KAAK,CAAC,CAACM,QAAQ,IAAI,CAAC,GACjCG,WAAW,CAACC,MAAM,CAACV,KAAK,EAAE,CAAC,CAAC;MAChCP,YAAY,CAACgB,WAAW,CAAC;IAC3B;EACF,CAAC;EAED,MAAME,SAAS,GAAG,MAAM;IACtBlB,YAAY,CAAC,EAAE,CAAC;EAClB,CAAC;;EAED;;EAEA,oBACE,QAAC,WAAW,CAAC,QAAQ;IACnB,KAAK,EAAE;MACLD,SAAS;MACTI,aAAa;MACbW,kBAAkB;MAClBI;MACA;IACF,CAAE;IAAA,UAEDzB;EAAQ;IAAA;IAAA;IAAA;EAAA,QACY;AAE3B,CAAC;AAAC,GAtDID,mBAAmB;AAAA,KAAnBA,mBAAmB;AAwDzB,eAAeA,mBAAmB;AAAC;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}